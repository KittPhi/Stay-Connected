<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>

    <form id='myForm'>
      <p>Of these movies, which is your favorite?</p>
      <select name='movie'>
          <!-- <option value='none'>None</option> -->
          <option value='Forrest Gump' selected>Forrest Gump</option>
          <option value='Shawshank Redemption'>Shawshank Redemption</option>
          <option value='Pulp Fiction'>Pulp Fiction</option>
          <option value='The Silence of the Lambs'>The Silence of the Lambs</option>
          <option value='The Matrix'>The Matrix</option>
          <option value='Star Wars IV: A New Hope'>Star Wars IV: A New Hope</option>
          <option value='Jurassic Park'>Jurassic Park</option>
          <option value='Braveheart'>Braveheart</option>
          <option value='Terminator 2: Judgement Day'>Terminator 2: Judgement Day</option>
          <option value="Schindler's List">Schindler's List</option>
      </select>

      <select name='rating'>
          <!-- <option value='none'>None</option> -->
          <option value='5' selected>5</option>
          <option value='4'>4</option>
          <option value='3'>3</option>
          <option value='2'>2</option>
          <option value='1'>1</option>
      </select>
      <p><input type="submit" value="Submit" onclick='sendMsg()'></p>      
    </form>
    <h3>Result:</h3>
      <iframe name="result" style="height:100px;width:200px;"></iframe>  
    <br>
    <!-- <button onClick="sendMsg()">Submit Rating</button> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
    
    <script>
      const socket = io("http://localhost:8080");

      function sendMsg() {
        var formData = JSON.stringify($("#myForm").serializeArray());
        
        socket.emit("message", formData); }

      // event listener (server -> client)
      // socket.on("message", function(data) {
      //   console.log(data);
      // });

    </script>

  </body>
</html>